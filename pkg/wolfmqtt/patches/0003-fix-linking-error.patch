From a1bd0146deffaefad6f6d7de7aab0be51bfb6787 Mon Sep 17 00:00:00 2001
From: Hendrik van Essen <hendrik.ve@fu-berlin.de>
Date: Sat, 6 Feb 2021 00:35:04 +0100
Subject: [PATCH] fix linking error

The example 'multithread' can't be linked because the function 'pipe'
was declared, but never defined.
---
 wolfmqtt_examples/mqttnet.c | 7 +++++++
 1 file changed, 7 insertions(+)

diff --git a/wolfmqtt_examples/mqttnet.c b/wolfmqtt_examples/mqttnet.c
index dbbbf93..c6a5686 100644
--- a/wolfmqtt_examples/mqttnet.c
+++ b/wolfmqtt_examples/mqttnet.c
@@ -558,6 +558,13 @@ static int NetDisconnect(void *context)
 /* -------------------------------------------------------------------------- */
 #else
 
+int pipe(SOCKET_T *sock)
+{
+    // empty implementation to fix linking error
+    return 0;
+}
+
+
 #ifndef WOLFMQTT_NO_TIMEOUT
 static void setup_timeout(struct timeval* tv, int timeout_ms)
 {
-- 
2.25.1

